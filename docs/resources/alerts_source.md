---
page_title: "Resource rootly_alerts_source - terraform-provider-rootly"
subcategory:
description: |-
    
---

# Resource (rootly_alerts_source)



## Important Notes

### Required Alert Source Fields

When configuring alert sources, the following alert source fields are **required** and **cannot be deleted**:
- `title` - Alert title field
- `description` - Alert description field
- `external_url` - Alert source URL/external URL field

**Important:** You must use **data sources** (not resources) to reference these required alert fields, as they cannot be modified or deleted by users. See the example below for the correct implementation.

## Example Usage

```shell
# Required: Use data sources for title, description, and external_url fields
data "rootly_alert_field" "title_field" {
  kind = "title"
}

data "rootly_alert_field" "description_field" {
  kind = "description"
}

data "rootly_alert_field" "source_link_field" {
  kind = "external_url"
}

resource "rootly_alerts_source" "example" {
  name        = "Generic webhook source"
  source_type = "generic_webhook"

  # Required alert source fields: title, description, and external_url
  # template_body can be omitted if you want to use the default value for the alert source field
  alert_source_fields_attributes {
    alert_field_id = data.rootly_alert_field.title_field.id
    template_body  = "Server exploded"
  }

  alert_source_fields_attributes {
    alert_field_id = data.rootly_alert_field.description_field.id
    template_body  = "Datacenter is burning down."
  }

  alert_source_fields_attributes {
    alert_field_id = data.rootly_alert_field.source_link_field.id
    template_body  = "https://rootly.com"
  }

  sourceable_attributes {
    auto_resolve  = true
    resolve_state = "$.status"

    field_mappings_attributes {
      field     = "state"
      json_path = "$.my_group_attribute"
    }

    field_mappings_attributes {
      field     = "external_id"
      json_path = "$.my_id_attribute"
    }
  }

  resolution_rule_attributes {
    enabled                = true
    condition_type         = "and"
    identifier_json_path   = "$.email.subject"
    identifier_value_regex = "ID:\\s*(\\w+)"
    conditions_attributes {
      field    = "$.email.body"
      operator = "contains"
      value    = "RESOLVED"
    }
    conditions_attributes {
      field    = "$.email.body"
      operator = "does_not_contain"
      value    = "ERROR"
    }
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the alert source

### Optional

- `alert_source_fields_attributes` (Block List) List of alert fields to be added to the alert source. Note: This attribute requires the alert field feature to be enabled on your account. Contact Rootly customer support if you need assistance with this feature. (see [below for nested schema](#nestedblock--alert_source_fields_attributes))
- `alert_source_urgency_rules_attributes` (Block List) List of rules that define the conditions under which the alert urgency will be set automatically based on the alert payload (see [below for nested schema](#nestedblock--alert_source_urgency_rules_attributes))
- `alert_template_attributes` (Block List, Max: 1) Note that when alert fields are enabled at the team level, alert template attributes cannot be provided. Use `alert_source_fields_attributes` instead. (see [below for nested schema](#nestedblock--alert_template_attributes))
- `alert_urgency_id` (String) ID for the default alert urgency assigned to this alert source
- `deduplicate_alerts_by_key` (Boolean) Toggle alert deduplication using deduplication key. If enabled, deduplication_key_kind and deduplication_key_path are required.. Value must be one of true or false
- `deduplication_key_kind` (String) Kind of deduplication key.. Value must be one of `payload`.
- `deduplication_key_path` (String) Path to deduplication key. This is a JSON Path to extract the deduplication key from the request body.
- `deduplication_key_regexp` (String) Regular expression to extract key from value found at key path.
- `email` (String) The email generated for email alert sources
- `owner_group_ids` (List of String) List of team IDs that will own the alert source
- `resolution_rule_attributes` (Block List, Max: 1) Provide additional attributes for email alerts source (see [below for nested schema](#nestedblock--resolution_rule_attributes))
- `secret` (String) The secret used to authenticate non-email alert sources
- `source_type` (String) The alert source type. Value must be one of `email`, `app_dynamics`, `catchpoint`, `datadog`, `alertmanager`, `google_cloud`, `grafana`, `sentry`, `generic_webhook`, `cloud_watch`, `checkly`, `azure`, `new_relic`, `splunk`, `chronosphere`, `app_optics`, `bug_snag`, `honeycomb`, `monte_carlo`, `nagios`, `prtg`.
- `sourceable_attributes` (Block List, Max: 1) Provide additional attributes for generic_webhook alerts source (see [below for nested schema](#nestedblock--sourceable_attributes))
- `status` (String) The status of the alert source. Value must be one of `connected`, `setup_complete`, `setup_incomplete`.
- `webhook_endpoint` (String) The webhook URL generated for non-email alert sources

### Read-Only

- `id` (String) The ID of this resource.

<a id="nestedblock--alert_source_fields_attributes"></a>
### Nested Schema for `alert_source_fields_attributes`

Optional:

- `alert_field_id` (String) The ID of the alert field
- `template_body` (String) Liquid expression to extract a specific value from the alert's payload for evaluation


<a id="nestedblock--alert_source_urgency_rules_attributes"></a>
### Nested Schema for `alert_source_urgency_rules_attributes`

Optional:

- `alert_urgency_id` (String) The ID of the alert urgency
- `conditionable_id` (String) The ID of the conditionable. If conditionable_type is AlertField, this is the ID of the alert field.
- `conditionable_type` (String) The type of the conditionable. Value must be one of `AlertField or (empty string)`.
- `json_path` (String) JSON path expression to extract a specific value from the alert's payload for evaluation
- `kind` (String) The kind of the conditionable. Value must be one of `payload`, `alert_field`.
- `operator` (String) Comparison operator used to evaluate the extracted value against the specified condition. Value must be one of `is`, `is_not`, `contains`, `does_not_contain`.
- `value` (String) Value that the extracted payload data is compared to using the specified operator to determine a match


<a id="nestedblock--alert_template_attributes"></a>
### Nested Schema for `alert_template_attributes`

Optional:

- `description` (String) The alert description.
- `external_url` (String) The alert URL.
- `title` (String) The alert title.


<a id="nestedblock--resolution_rule_attributes"></a>
### Nested Schema for `resolution_rule_attributes`

Optional:

- `condition_type` (String) The type of condition to evaluate to apply auto resolution rule. Value must be one of `all`, `any`.
- `conditions_attributes` (Block List) List of conditions to evaluate for auto resolution (see [below for nested schema](#nestedblock--resolution_rule_attributes--conditions_attributes))
- `enabled` (Boolean)
- `identifier_json_path` (String) JSON path expression to extract unique alert identifier used to match triggered alerts with resolving alerts
- `identifier_matchable_id` (String) The ID of the identifier matchable. If identifier_matchable_type is AlertField, this is the ID of the alert field.
- `identifier_matchable_type` (String) The type of the identifier matchable. Value must be one of `AlertField`.
- `identifier_reference_kind` (String) The kind of the identifier reference. Value must be one of `payload`, `alert_field`.
- `identifier_value_regex` (String) Regex group to further specify the part of the string used as a unique identifier

<a id="nestedblock--resolution_rule_attributes--conditions_attributes"></a>
### Nested Schema for `resolution_rule_attributes.conditions_attributes`

Optional:

- `conditionable_id` (String) The ID of the conditionable. If conditionable_type is AlertField, this is the ID of the alert field.
- `conditionable_type` (String) The type of the conditionable. Value must be one of `AlertField or (empty string)`.
- `field` (String) JSON path expression to extract a specific value from the alert's payload for evaluation
- `kind` (String) The kind of the conditionable. Value must be one of `payload`, `alert_field`.
- `operator` (String) Comparison operator used to evaluate the extracted value against the specified condition. Value must be one of `is`, `is_not`, `contains`, `does_not_contain`, `starts_with`, `ends_with`.
- `value` (String) Value that the extracted payload data is compared to using the specified operator to determine a match



<a id="nestedblock--sourceable_attributes"></a>
### Nested Schema for `sourceable_attributes`

Optional:

- `accept_threaded_emails` (Boolean) Set this to false to reject threaded emails. Value must be one of true or false
- `auto_resolve` (Boolean) Set this to true to auto-resolve alerts based on field_mappings_attributes conditions. Value must be one of true or false
- `field_mappings_attributes` (Block List) Specify rules to auto resolve alerts (see [below for nested schema](#nestedblock--sourceable_attributes--field_mappings_attributes))
- `resolve_state` (String) This value is matched with the value extracted from alerts payload using JSON path in field_mappings_attributes

<a id="nestedblock--sourceable_attributes--field_mappings_attributes"></a>
### Nested Schema for `sourceable_attributes.field_mappings_attributes`

Optional:

- `field` (String) Select the field on which the condition to be evaluated. Value must be one of `external_id`, `state`, `alert_title`, `alert_external_url`, `notification_target_type`, `notification_target_id`.
- `json_path` (String) JSON path expression to extract a specific value from the alert's payload for evaluation

## Import

rootly_alerts_source can be imported using the [`import` command](https://developer.hashicorp.com/terraform/cli/commands/import).

```sh
terraform import rootly_alerts_source.primary a816421c-6ceb-481a-87c4-585e47451f24
```

Or using an [`import` block](https://developer.hashicorp.com/terraform/language/import).

```terraform
import {
  to = rootly_alerts_source.primary
  id = "a816421c-6ceb-481a-87c4-585e47451f24"
}
```

Locate the resource id in the web app, or retrieve it by listing resources through the API if it's not visible in the web app.

HCL can be generated from the import block using the `-generate-config-out` flag.

```sh
terraform plan -generate-config-out=generated.tf
```
